plugins {
	id 'java'
}

group = 'sep.banaanatjuh'
version = '0.67'

java {
	toolchain {
		languageVersion = JavaLanguageVersion.of(21)
	}
}

repositories {
	mavenCentral()
	maven { url 'https://repo.papermc.io/repository/maven-public/' }
	maven { url 'https://oss.sonatype.org/content/repositories/snapshots/' }
	// PlaceholderAPI repository (official extendedclip repo)
	maven { url 'https://repo.extendedclip.com/content/repositories/placeholderapi/' }
}

dependencies {
	compileOnly 'io.papermc.paper:paper-api:1.21.11-R0.1-SNAPSHOT'

	// PlaceholderAPI - used by Placeholder.java
	compileOnly 'me.clip:placeholderapi:2.12.2'

	// SQLite JDBC Driver
	implementation 'org.xerial:sqlite-jdbc:3.45.1.0'

}

tasks {
	processResources {
		from('plugin.yml') { into '.' }
	}

	jar {
		archiveBaseName.set('event')
		manifest {
			attributes(
				'Implementation-Title': project.name,
				'Implementation-Version': project.version
			)
		}
		// Include any precompiled .class files that may be sitting in src
		from('src/main/java') {
			include '**/*.class'
		}
	}

	build {
		// standard jar is produced by the `jar` task
	}
}
